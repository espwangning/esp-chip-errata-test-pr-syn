[触摸传感器] 在一次扫描中出现两次 RTC_CNTL_TOUCH_SCAN_DONE_INT_ENA 扫描完成中断
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. only:: esp32s2

   .. tags::

      v0.0, v1.0

描述
^^^^

ESP32-S2 的触摸传感器在一次扫描中出现两次 RTC_CNTL_TOUCH_SCAN_DONE_INT_ENA 扫描完成中断，分别在扫描到最后两个通道时产生。

变通方法
^^^^^^^^

建议用户在 RTC 驱动里额外注册一个中断用于过滤，检查当前通道是否为最后一个通道。若不是最后一个通道，则直接清除 RTC_CNTL_TOUCH_SCAN_DONE_INT_ENA 中断；若是，则当前 RTC_CNTL_TOUCH_SCAN_DONE_INT_ENA 中断为有效中断。

在所有版本的 ESP-IDF 中，均已通过该方法绕开上述问题。


解决方案
^^^^^^^^

:bdg-warning:`暂无` 修复计划。
